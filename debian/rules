#!/usr/bin/make -f
#export DEB_BUILD_MAINT_OPTIONS = hardening=+all
#export DEB_CFLAGS_MAINT_APPEND  = -Wall -pedantic
#export DEB_LDFLAGS_MAINT_APPEND = -Wl,--as-needed

%:
	dh $@


HTML_DOCS := README.html BUILDING.html LLVM_README.html

%.html: %.md
	pandoc --from=markdown+smart --to=html --standalone --metadata=pagetitle="ProjectM $(basename $<)" --extract-media=docs_media --output=$@ $<
## multimarkdown would be nice & more modern, but it's not in Debian yet!
#	multimarkdown --to=html --full --smart $< > $@

execute_before_dh_clean:
	rm $(HTML_DOCS) || true
	rm -rf docs_media/ || true
