# Example watch control file for uscan
# Rename this file to "watch" and then you can run the "uscan" command
# to check for upstream updates and more.
# See uscan(1) for format

# Compulsory line, this is a version 4 file
version=4

# PGP signature mangle, so foo.tar.gz has foo.tar.gz.sig
#opts="pgpsigurlmangle=s%$%.sig%"

# Note: default uupdate command overridden
# debian/repack.stub: Wrapper for uupdate
#   runs pandoc --extract-media, removes non-DFSG files & ICC color profiles

# master HEAD
# pretty=3.1.3+git%cd.%h,
opts="mode=git, dversionmangle=s/\+dfsg\.\d+$//, uversionmangle=s/^v//, pretty=describe" \
  https://github.com/projectM-visualizer/projectm.git \
  heads/master debian debian/repack

# GitHub hosted projects
opts="filenamemangle=s%(?:.*?)?v?(\d[\d.]*)\.tar\.gz%projectm-$1.tar.gz%" \
  https://github.com/projectM-visualizer/projectm/tags \
  (?:.*?/)?v?(\d[\d.]*)\.tar\.gz debian debian/repack

# Direct Git
#opts="mode=git, dversionmangle=s/\+dfsg\.\d+$//" https://github.com/projectM-visualizer/projectm.git \
#  refs/tags/v([\d\.]+) debian debian/repack

